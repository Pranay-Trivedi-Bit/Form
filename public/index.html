<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OTP Verified Lead Form</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <div class="form-container">
      <div class="form-card">

        <!-- Header -->
        <div class="form-card__header">
          <div class="form-card__icon">
            <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="#a78bfa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
          </div>
          <h1 class="form-card__title">OTP Verified Lead Capture</h1>
          <p class="form-card__subtitle">Fill in your details and verify via WhatsApp OTP</p>
        </div>

        <!-- Progress Steps -->
        <div class="steps">
          <div class="step step--active" data-step="1">
            <div class="step__circle">1</div>
            <span class="step__label">Contact Details</span>
          </div>
          <div class="step__line"></div>
          <div class="step" data-step="2">
            <div class="step__circle">2</div>
            <span class="step__label">Verify OTP</span>
          </div>
          <div class="step__line"></div>
          <div class="step" data-step="3">
            <div class="step__circle">3</div>
            <span class="step__label">Confirmed</span>
          </div>
        </div>

        <!-- Step 1: Contact Form -->
        <div class="form-step" id="step1">
          <form id="contactForm" novalidate>
            <div class="field-grid">
              <div class="field">
                <label for="fieldName">Full Name <span class="req">*</span></label>
                <input type="text" id="fieldName" placeholder="e.g. Jane Smith" required>
                <span class="field-error" id="errorName"></span>
              </div>
              <div class="field">
                <label for="fieldEmail">Email <span class="req">*</span></label>
                <input type="email" id="fieldEmail" placeholder="e.g. jane@acme.com" required>
                <span class="field-error" id="errorEmail"></span>
              </div>
              <div class="field">
                <label for="fieldPhone">WhatsApp Phone <span class="req">*</span></label>
                <input type="tel" id="fieldPhone" placeholder="e.g. 919876543210">
                <span class="field-error" id="errorPhone"></span>
                <span class="field-hint">Include country code without + or spaces</span>
              </div>
              <div class="field">
                <label for="fieldCompany">Company</label>
                <input type="text" id="fieldCompany" placeholder="e.g. Acme Corp">
              </div>
              <div class="field">
                <label for="fieldJobTitle">Job Title</label>
                <input type="text" id="fieldJobTitle" placeholder="e.g. IT Manager">
              </div>
              <div class="field">
                <label for="fieldLocation">Location</label>
                <input type="text" id="fieldLocation" placeholder="e.g. New Delhi, India">
              </div>
            </div>
            <div class="field" style="margin-top:16px;">
              <label for="fieldRemarks">Remarks / Interest</label>
              <textarea id="fieldRemarks" rows="3" placeholder="e.g. Interested in AWS certification..."></textarea>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn--primary btn--lg" id="btnSendOtp">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                Send OTP via WhatsApp
              </button>
            </div>
          </form>
        </div>

        <!-- Step 2: OTP Verification -->
        <div class="form-step" id="step2" style="display:none;">
          <div class="verify-section">
            <div class="verify-info">
              <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#a78bfa" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
              <p>A 6-digit OTP has been sent to <strong id="sentPhone"></strong> via WhatsApp.</p>
            </div>
            <div class="otp-inputs">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]" autocomplete="one-time-code">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]">
              <input type="text" class="otp-digit" maxlength="1" inputmode="numeric" pattern="[0-9]">
            </div>
            <span class="field-error verify-error" id="verifyError"></span>
            <div class="timer">Code expires in <span id="countdown">5:00</span></div>
            <div class="form-actions">
              <button class="btn btn--ghost" id="btnResend" disabled>Resend OTP</button>
              <button class="btn btn--primary btn--lg" id="btnVerify">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                Verify &amp; Submit
              </button>
            </div>
            <button class="back-link" id="btnBack">&larr; Back to edit details</button>
          </div>
        </div>

        <!-- Step 3: Success -->
        <div class="form-step" id="step3" style="display:none;">
          <div class="success">
            <div class="success__icon">
              <svg viewBox="0 0 24 24" width="56" height="56" fill="none" stroke="#34d399" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            </div>
            <h2 class="success__title">Lead Verified & Submitted!</h2>
            <p class="success__text">The contact has been verified and recorded successfully.</p>
            <div class="success__summary" id="successSummary"></div>
            <div class="form-actions">
              <button class="btn btn--primary btn--lg" id="btnNewLead">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                Capture Another Lead
              </button>
            </div>
          </div>
        </div>

      </div>

      <p class="footer">Powered by Koenig Solutions</p>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="app.js"></script>
</body>
</html>
